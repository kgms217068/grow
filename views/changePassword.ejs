i<% layout('layout') %>

<div style="padding: 20px; max-width: 400px; margin: auto;">
  <h2 style="text-align: center;">비밀번호 변경</h2>

  <% if (message) { %>
    <div class="success-message"><%= message %></div>
  <% } %>
  <% if (error && error.length) { %>
    <div class="error-message"><%= error[0] %></div>
  <% } %>

  <form method="POST" action="/change-password">
    <label>현재 비밀번호</label>
    <input type="password" name="oldPassword" required
      oninvalid="this.setCustomValidity('현재 비밀번호를 입력해주세요.')"
      oninput="this.setCustomValidity('')" />

    <label>새 비밀번호</label>
    <input type="password" name="newPassword" required
      oninvalid="this.setCustomValidity('새 비밀번호를 입력해주세요.')"
      oninput="this.setCustomValidity('')" />

    <label>비밀번호 확인</label>
    <input type="password" name="newPasswordConfirm" required
      oninvalid="this.setCustomValidity('비밀번호 확인란을 입력해주세요.')"
      oninput="this.setCustomValidity('')" />

    <div style="display: flex; justify-content: space-between; margin-top: 20px;">
      <button type="submit" style="background-color: #38761d; color: white; padding: 10px 20px;">변경하기</button>
      <a href="/mypage" style="background-color: white; border: 1px solid #38761d; color: #38761d; padding: 10px 20px; text-align: center; text-decoration: none;">취소</a>
    </div>
  </form>
</div>

